# Greta Production Configuration
# Optimized for production deployment

# =============================================================================
# Application Configuration
# =============================================================================
greta.mode=production
greta.version=1.0.0-SNAPSHOT
greta.debug=false
greta.log.level=INFO

# =============================================================================
# Server Configuration
# =============================================================================
server.port=8080
server.management.port=8081
server.compression.enabled=true
server.http2.enabled=true

# =============================================================================
# Performance Settings
# =============================================================================
# Animation settings
greta.animation.fps=30
greta.animation.quality=high
greta.animation.cache.enabled=true
greta.animation.cache.size=1000

# Memory settings
greta.memory.maxheap=3g
greta.memory.initial=1g
greta.gc.type=G1

# Threading
greta.concurrent.threads=4
greta.concurrent.animation.threads=2
greta.concurrent.ai.threads=2

# =============================================================================
# AI and ML Configuration
# =============================================================================
# AI service timeouts
greta.ai.timeout=10000
greta.ai.retry.attempts=3
greta.ai.cache.enabled=true

# TTS configuration
greta.tts.cache.enabled=true
greta.tts.cache.size=500
greta.tts.timeout=15000

# LLM configuration
greta.llm.timeout=30000
greta.llm.max.tokens=2048

# =============================================================================
# Security Configuration
# =============================================================================
greta.auth.enabled=true
greta.auth.type=jwt
greta.auth.jwt.secret=${JWT_SECRET:changeme-in-production}
greta.auth.jwt.expiration=3600

# SSL/TLS
greta.ssl.enabled=true
greta.ssl.keystore=${SSL_KEYSTORE:/app/ssl/keystore.jks}
greta.ssl.keystore.password=${SSL_KEYSTORE_PASSWORD:changeme}
greta.ssl.protocol=TLSv1.3

# CORS
greta.cors.enabled=true
greta.cors.allowed.origins=https://yourdomain.com
greta.cors.allowed.methods=GET,POST,PUT,DELETE,OPTIONS
greta.cors.allowed.headers=*

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL
greta.database.url=${DATABASE_URL:jdbc:postgresql://postgres:5432/greta}
greta.database.username=${DATABASE_USERNAME:greta}
greta.database.password=${DATABASE_PASSWORD:changeme}
greta.database.driver=org.postgresql.Driver

# Connection pool
greta.database.pool.size=20
greta.database.pool.max=50
greta.database.pool.timeout=30000

# =============================================================================
# Cache Configuration (Redis)
# =============================================================================
greta.cache.type=redis
greta.cache.redis.host=${REDIS_HOST:redis}
greta.cache.redis.port=${REDIS_PORT:6379}
greta.cache.redis.password=${REDIS_PASSWORD:}
greta.cache.redis.database=0
greta.cache.redis.timeout=5000

# Cache TTL settings
greta.cache.ttl.animation=3600
greta.cache.ttl.tts=7200
greta.cache.ttl.ai=1800

# =============================================================================
# Message Queue Configuration (ActiveMQ)
# =============================================================================
greta.mq.broker.url=${ACTIVEMQ_URL:tcp://localhost:61616}
greta.mq.username=${ACTIVEMQ_USERNAME:admin}
greta.mq.password=${ACTIVEMQ_PASSWORD:admin}
greta.mq.pool.size=10

# Queue names
greta.mq.queue.animation=greta.animation
greta.mq.queue.signals=greta.signals
greta.mq.queue.intentions=greta.intentions

# =============================================================================
# Monitoring and Observability
# =============================================================================
# Metrics
greta.metrics.enabled=true
greta.metrics.export.prometheus=true
greta.metrics.export.jmx=true

# Health checks
greta.health.check.interval=30
greta.health.check.timeout=10

# Tracing
greta.tracing.enabled=true
greta.tracing.jaeger.endpoint=${JAEGER_ENDPOINT:http://jaeger:14268/api/traces}

# =============================================================================
# File System Configuration
# =============================================================================
# Paths
greta.data.path=${GRETA_DATA:/app/data}
greta.logs.path=${GRETA_LOGS:/app/logs}
greta.config.path=${GRETA_CONFIG:/app/config}
greta.cache.path=${GRETA_CACHE:/app/cache}

# File upload limits
greta.upload.max.size=100MB
greta.upload.max.request.size=500MB

# =============================================================================
# External Services
# =============================================================================
# Azure TTS
greta.azure.tts.key=${AZURE_TTS_KEY:}
greta.azure.tts.region=${AZURE_TTS_REGION:eastus}

# OpenAI
greta.openai.api.key=${OPENAI_API_KEY:}
greta.openai.model=${OPENAI_MODEL:gpt-3.5-turbo}

# Mary TTS
greta.mary.tts.host=${MARY_TTS_HOST:localhost}
greta.mary.tts.port=${MARY_TTS_PORT:59125}

# =============================================================================
# Logging Configuration
# =============================================================================
# Root logger
logging.level.root=INFO
logging.level.greta=INFO
logging.level.org.springframework=WARN
logging.level.org.apache=WARN

# Log files
logging.file.name=/app/logs/greta.log
logging.file.max-size=100MB
logging.file.max-history=30
logging.file.total-size-cap=1GB

# Log format
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# =============================================================================
# Environment-specific Overrides
# =============================================================================
# Development overrides (when GRETA_ENV=development)
%dev.greta.debug=true
%dev.greta.log.level=DEBUG
%dev.greta.auth.enabled=false

# Test overrides (when GRETA_ENV=test)
%test.greta.database.url=jdbc:h2:mem:test
%test.greta.cache.type=memory
%test.greta.auth.enabled=false